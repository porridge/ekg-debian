
                     Eksperymentalny Klient Gadu-Gadu

          (C) Copyright 2001-2002 Autorzy (pe³na lista poni¿ej)

LICENCJA

    Program jest udostêpniony na zasadach licencji GPL v2, której tre¶æ
    za³±czono w pliku src/COPYING. Bibliotekê libgadu obs³uguj±ca
    warstwê sieciow± udostêpniono na zasadach licencji LGPL v2.1,
    której tre¶æ znajduje siê w pliku lib/COPYING.
    
    Program i biblioteka zosta³y napisane na podstawie informacji
    uzyskanych przez badanie pakietów wysy³anych miêdzy klientem
    a serwerem oraz od osób trzecich. Autorzy nie disasemblowali,
    ani nie dekompilowali oryginalnego klienta. Projekt powsta³ przy
    u¿yciu darmowych i wolnodostêpnych narzêdzi.

    Gadu-Gadu jest zastrze¿onym znakiem towarowym sms-express sp. z o.o.

INSTALACJA

    Rozpakowaæ poleceniem ,,tar zxvf ekg-XXXXYYZZ.tar.gz'' (gdzie
    XXXXYYZZ to wersja snapshotu), wej¶æ do utworzonego katalogu.
    Je¶li mamy uprawnienia administratora na danej maszynie, wywo³ujemy
    ,,./configure'', potem ,,make'' i z prawami roota ,,make install''.
    Je¶li chcemy zainstalowaæ program w katalogu domowym, do polecenia
    configure dodajemy parametr ,,--prefix=$HOME/ekg''. Po zainstalowaniu
    w ten sposób, program gotowy do uruchomienia bêdzie znajdowa³ siê
    w katalogu ekg/bin w katalogu domowym.

    Proste? Proste. Po pierwszym uruchomieniu ekg powie, jak go
    skonfigurowaæ.

    Program domy¶lnie korzysta z biblioteki readline, wiêc odpowiednie
    pakiety zawieraj±ce j±, oraz pliki nag³ówkowe, powinny byæ
    zainstalowane. readline zwykle polega te¿ na innych bibliotekach do
    obs³ugi terminala, jak np. libtermcap czy ncurses. Je¶li chcesz u¿yæ
    alternatywnego interfejsu opartego o ncurses, podobnego do klientów
    ircowych do polecenia configure dodaj ,,--enable-ui-ncurses''. Oczywi¶cie
    niezbêdny jest te¿ zestaw narzêdzi do kompilacji programów napisanych
    w jêzyku C -- kompilator, preprocesor, linker, pliki nag³ówkowe,
    biblioteki systemowe itd. Je¶li skrypt ./configure zg³osi jakie¶
    b³êdy, skontaktuj siê ze swoim administratorem.

    ekg powinien dzia³aæ na wiêkszo¶ci systemów un*xowych, jak Linux,
    *BSD, SunOS, IRIX itp. lecz czasami przy dodawaniu nowych funkcji
    nie sposób sprawdziæ ich zachowania na wszystkich popularnych
    systemach. W takim wypadku przydatne s± informacje o b³êdach z
    dok³adnym wskazaniem systemu i architektury.

U¯YCIE

    Jest na tyle intuicyjne, ¿e nie powinno sprawiæ problemów (wszyscy
    betatesterzy poradzili sobie bez jakiejkolwiek dokumentacji).
    Interfejs jest podobny do ircii. Dope³nianie tabem jest dostêpne w
    wiêkszo¶ci komend. Komendy mo¿na wywo³ywaæ skrótami, o ile s± one
    jednoznaczne. Wysy³anie wiadomo¶ci komend± ,,msg'', rozmowa komend±
    ,,chat''. Informacje o ludziach ,,find <numer/nick>''. Szukanie t±
    sam± komend±, ale z ró¿nymi parametrami. ,,help'' Twoim przyjacielem.
    Je¶li dana komenda ma ró¿ne opcje, pomaga ,,help <komenda>''. By
    wys³aæ kilkulinijkow± wiadomo¶æ w interfejsie readline, zamiast
    tre¶ci wpisz ,,\'' (backslash). Koñczy siê lini± z sam± kropk±,
    anuluje Ctrl-D. W interfejscie ncurses u¿ywa siê Ctrl-Enter
    (szczegó³y poni¿ej, w rodziale ,,KLAWIATURA'').

    Je¶li dana komenda przyjmuje ,,--parametr'' mo¿na u¿yæ równie¿
    skrótu ,,-p'', je¶li nie powoduje to niejednoznaczno¶ci. Uwaga!
    Brana pod uwagê jest zwykle pierwsza litera, wiêc je¶li wpiszesz
    ,,list --gone'', ekg potraktuje to jako ,,list --get''.

    Komendy mo¿na wysy³aæ tak¿e przez potok. By go uaktywniæ, nale¿y
    uruchomiæ ekg z parametrem ,,-c'' i ¶cie¿k± potoku. Ze wzglêdu na
    specyfikê potoków, wyniki poleceñ wysy³ane bêd± na terminal na którym
    jest uruchomione ekg (tak jak normalnie). Pisaæ do potoku mo¿na tak
    jak do normalnego pliku (choæby zwyk³ym echem).

    Je¶li w linii poleceñ shella podasz po nazwie programu i parametrach
    zaczynaj±cych siê od my¶lnika co¶ jeszcze, to zostanie to zinterpretowane
    jako komenda wsadowa. ekg wykona tylko t± komendê, i od razu wyjdzie.
    Je¶li na serwerze GG czekaj± na Ciebie jakie¶ wiadomo¶ci to serwer je
    przy¶le zaraz po po³±czeniu i w trybie wsadowym ekg wypisze je na
    terminal. Je¶li wiêc zamierzasz przekierowaæ wyj¶cie do /dev/null i nie
    masz loga z wiadomo¶ci to licz siê z tym, ¿e mog± one zgin±æ bezpowrotnie.

KLAWIATURA

    Je¶li nie masz do¶wiadczenia w obs³ugiwaniu programów z emacsow±
    filozofi± obs³ugi klawiatury, oto lista obs³ugiwanych klawiszy:

	Up, Down		przegl±danie historii poleceñ
	Left, Right		poruszanie siê po aktualnej linii
        Ctrl-A, Home		id¼ pocz±tek linii
        Ctrl-D, Delete		usuñ znak pod kursorem, wyjd¼ z query
        Ctrl-H, Backspace	usuñ znak przed kursorem
        Ctrl-I, Tab		dope³nianie
        Ctrl-L			czyszczenie/od¶wie¿anie ekranu
        Ctrl-M, Enter		zatwierdzenie linii
        Ctrl-Q			odblokowanie terminala
        Ctrl-S			zablokowanie terminala
        Ctrl-U			usuniêcie aktualnej linii
        Ctrl-W			usuniêcie s³owa przed kursorem
        Ctrl-Y			wklejenie ostatnio usuniêtego bloku
        Ctrl-Z			przeniesienie programu w t³o
	Alt-cyfra		prze³±czenie do podanego okna
	F1			pomoc
	F2			krótka lista dostêpnych i zajêtych
	F12			w³±czenie lub wy³±czenie trybu debugowania

    Lista ta obejmuje klawisze obs³ugiwane przed interfejs readline
    i ncurses, i nie zawiera kombinacji specyficznych dla tego pierwszego.
    
    Interfejs readline obs³uguje równie¿ inne kombinacje klawiszy. Dok³adna
    lista znajduje siê w stronie manuala ,,readline'' w rozdziale ,,DEFAULT
    KEY BINDINGS''.

    Interfejs ncurses obs³uguje kilka dodatkowych kombinacji:

	Page Up, Page Down	przewijanie ekranu
	Ctrl-F, Ctrl-G		j.w.
        Alt-N			utwórz nowe okno
	Alt-K			zamknij aktualne okno
	Ctrl-Fn			prze³±cza do podanego okna (konsola FreeBSD)
	Ctrl-Enter		przej¶cie do trybu wielolinijkowego
	Ctrl-P			poprzednie okno
        Ctrl-N			kolejne okno

    Po wej¶ciu do trybu wielolinijkowego poruszamy siê za pomoc± kursorów
    i zatwierdzamy ponownym wci¶niêciem Ctrl-Enter. By anulowaæ wciskamy
    Esc i czekamy chwilê. Je¶li kombinacja ta nie jest obs³ugiwana przez
    terminal, mo¿na u¿ywaæ Alt-Enter lub wcisn±æ Esc i zaraz po nim Enter.

    Dodatkowo, okre¶lonym kombinacjom klawiszy mo¿na przypisaæ ró¿ne
    komendy za pomoc± polecenia ,,bind''.

GDZIE SZUKAÆ POMOCY

    Dobra rada numer jeden: zanim zaczniesz narzekaæ, ¿e czego¶ nie ma,
    przeczytaj plik TODO.

    Dobra rada numer dwa: plik ULOTKA mówi, co znajduje siê w którym pliku
    dokumentacji.

    Dobra rada numer trzy: zanim zaczniesz narzekaæ, ¿e czego¶ nie ma,
    poszukaj w pliku ChangeLog.

    Dobra rada numer cztery: je¶li jeste¶ nowym u¿ytkownikiem, nie pytaj
    siê, czy co¶ da siê zrobiæ, albo ¿e przyda³oby siê. Program jest
    rozwijany od ponad roku, wielu ludzi korzysta z niego na co dzieñ,
    wiêc wiêkszo¶æ ,,bajerów'', o których mo¿esz pomy¶leæ, na pewno jest
    ju¿ w programie. Przejrzyj listê zmiennych, 

WYSY£ANIE SMSÓW

    ekg korzysta z zewnêtrznego programu do wysy³ania smsów. Nie ma
    najmniejszego sensu dublowania tej funkcji, skoro i tak wiêkszo¶æ
    ma ju¿ zainstalowane odpowiednie skrypty/programy/cokolwiek.
    Wystarczy podaæ ¶cie¿kê do takiego programu w zmiennej
    ,,sms_send_app''. Powinien przyjmowaæ numer telefonu za pierwszy
    parametr i wiadomo¶æ za drugi. Ten ze strony http://ceti.pl/~miki/
    spe³nia podane wymagania.

SYNTEZA MOWY

    ekg potrafi korzystaæ z zewnêtrznej aplikacji do syntezy mowy, by
    odczytywaæ wszystko, co trafia na ekran. Wystarczy ustawiæ zmienn±
    ,,speech_app'' na nazwê programu czytaj±cego tekst z stdin. Jej
    ustawienie spowoduje równie¿ zmianê wygl±du programu, by wy¶wietlane
    komunikaty sta³y siê ³atwiejsze do wymówienia. Przyk³adowe ustawienia,
    gdy korzystamy z programu ,,powiedz'', to:

	set speech_app powiedz
	set make_window 0
	set display_sent 0
	set display_ack 3

    Wad± aktualnej implementacji jest fakt blokowania ca³ego programu
    podczas wymawiania tekstu.

ZNANE PROBLEMY

    Je¶li nie mo¿esz wpisywaæ polskich liter w interfejsie readline,
    dopisz do pliku /etc/inputrc lub ~/.inputrc nastêpuj±ce linie:

	set meta-flag on
	set convert-meta off
	set output-meta on

ROZPOZNAWANIE P£CI

    Krótka wersja: Je¶li ekg ¼le rozpoznaje p³eæ, wpisz imiê do listy
    kontaktów. W wiêkszo¶ci przypadków pomo¿e. No tak, nie masz pojêcia,
    jak to zrobiæ? ,,list pseudonim -f imiê''. Pomog³o? ¦wietnie. Nie
    pomog³o? Czytaj dalej.

    D³uga wersja: Jedn± z najbardziej kontrowersyjnych cech programu jest
    automatyczne rozpoznawanie p³ci na podstawie ostatniej litery imienia
    lub gdy jest ono nieznane, pseudonimu. Gdy ostatni± liter± jest ,,a'',
    ekg uznaje, ¿e dana osoba jest kobiet±. Na przyk³ad, je¶li Twój znajomy
    ma pseudonim ,,Kuba'', wpisz do listy kontaktów imiê ,,Jakub''.
    Problemy mog± wyst±piæ z rzadko spotykanymi imionami typu Barnaba
    czy Mercedes. W takim wypadku nale¿y do imienia dopisaæ (chocia¿by
    po uko¶niku lub w nawiasie) literê ,,a'' dla kobiet lub inn± ni¿
    ,,a'' dla mê¿czyzn.

ZG£ASZANIE B£ÊDÓW

    Proszê, nie przysy³ajcie informacji, ¿e mo¿na by dodaæ co¶, co jest
    ju¿ wymienione w TODO. Nie przysy³ajcie informacji, ¿e jest jaki¶
    b³±d, je¶li poprawka jest wymieniona w TODO. Nie przysy³ajcie
    informacji o ostrze¿eniach przy kompilacji -- dopiero je¶li nie chce
    siê w ogóle skompilowaæ, dajcie znaæ. Zaznaczcie, co to za system,
    jaka dystrybucja, jaka wersja. Je¶li b³±d jest powtarzalny i zwi±zany
    z sieci±, prosi³bym o to, co wyrzuca ekg uruchomione z opcj± ,,-d''.
    Je¶li segfaultuje i zrzuca core, prosi³bym o podes³anie tego, co
    poka¿e ,,gdb ekg core'' (g³ównie chodzi o liniê, w której wyst±pi³
    b³±d), a nastêpnie ,,bt''. Informacjê o b³êdzie proszê przesy³aæ
    na listê ekg-users (szczegó³y ni¿ej), poniewa¿ w ten sposób dostan±
    j± inni developerzy. Dziêki temu jest szansa, ¿e zostanie poprawione
    wcze¶niej.

¬RÓD£A

    Snapshoty kodu s± dostêpne pod adresem http://dev.null.pl/ekg/.
    Je¶li nie wyst±pi ¿adne trzêsienie ziemi, brak pr±du ani barykady na
    drogach, powinny byæ robione co 24 godziny, wieczorem.

    Czê¶æ jest ³adnie udokumentowana, czê¶æ nie. Komentarze czasami s±
    bardzo g³upie, ale je¶li siê do trzeciej rano siedzi nad dziwnym
    segfaultem, ciê¿ko siê pohamowaæ. Je¶li napiszesz jakiegokolwiek
    klienta, frontend czy co¶ takiego, by³bym wdziêczny za informacje
    o nim. Chêtnie umieszczê odno¶niki do innych tego typu projektów
    na stronie.

LISTA DYSKUSYJNA

    Istnieje lista dyskusyjna dla u¿ytkowników EKG o adresie 
    ekg-users@list.ziew.org. Aby siê zapisaæ nale¿y wej¶æ na 
    strone o adresie:
	    
	http://list.ziew.org/mailman/listinfo/ekg-users
	
    oraz postêpowac wed³ug instrukcji tam zawartych.
    
AUTORZY

    Wymienieni ludzie mieli mniejszy lub wiêkszy wp³yw na rozwój biblioteki
    i klienta. Niektórzy pisali kod, pomagali analizowaæ protokó³, testowali
    na ró¿nych systemach, inni podsy³ali patche i bugreporty. Je¶li kto¶
    zosta³ pominiêty, niech da znaæ. W ka¿dym razie za to, jak wygl±da ekg
    odpowiedzialni s± (w porz±dku alfabetycznym):

	Marek Antoniak <kfazi@kfazi.polnet.trzepak.pl>
	Wojciech Bojdo³ <wojboj@htcon.pl>
	Tomasz Chiliñski <chilek@chilan.com>
	Marcin Chojnowski <martii@obgyn.edu.pl>
	Micha³ Dorociñski <zwierzak@venus.ci.uw.edu.pl>
	Tomasz Dudzisz <eileen@ds1.agh.edu.pl>
	Piotr Figiel <feeg@psychodelic.org>
	Rafa³ Florek <raf@regionet.regionet.pl>
	Artur Gawryszczak <gawrysz@camk.edu.pl>
	Stanis³aw Gurgacz <fig@pd21.tarnobrzeg.sdi.tpnet.pl>
	Darek Jackowski <ascent@home.pl>
	Dawid Jarosz <dawjar@poczta.onet.pl>
	Tomasz Jarzynka <tomee@cpi.pl>
	Kuba Jermak <kooba@irc.pl>
	Jaros³aw Kamper <jack@jack.eu.org>
	Asia Kaniewska <kj_asia@wp.pl>
	Wojtek Kaniewski <wojtekka@irc.pl>
	Maciej Korzeñ <maciekk@linux.sky.pl>
	Pawe³ Kot <pkot@linuxnews.pl>
	Marek Kozina <klith@irc.pl>
	Adam Kruszewski <phantom@linux.bydg.org>
	Adam Ludwikowski <adam.ludwikowski@wp.pl>
	Jakub Martyñski <jakub@ceto.pl>
	Pawe³ Maziarz <drg@go2.pl>
	Marcin Miku³a <meecash@meecash.prv.pl>
	Arkadiusz Mi¶kiewicz <misiek@pld.org.pl>
	Robert Osowiecki <magic.robson@rassun.art.pl>
	Adam Osuchowski <adwol@polsl.gliwice.pl>
	Maurycy Paw³owski <maurycy@kocham.cie.gov.pl>
	Artur Pietruk <arturp@plukwa.net>
	Jacek Pospycha³a <tri10o@bsod.org>
	Pawe³ Pruszkowski <arim@botrm.org>
	Jacek Rembisz <jr178783@zodiac.mimuw.edu.pl>
	Rafal Roszak <rmrmg@wp.pl>
	Krzysztof Sk³adzieñ <coxoc@coxoc.org>
	Rafa³ Skoczylas <nils@secprog.org>
	Walerian Soko³owski <ws171913@yahoo.com>
	Piotr Stolc <socrtp@sedez.iq.pl>
	Tomasz Torcz <zdzichu@irc.pl>
	Leszek Urbañski <tygrys@moo.pl>
	Robert J. Wo¼ny <speedy@ziew.org>
	Krzysztof Wójtowicz <misiolek@misiolki.prv.pl>
	Piotr Wysocki <wysek@tower.braxis.co.uk>
	 
$Id$
