# $Id$

INCLUDES = -I.. @CURSES_INCLUDEDIR@ @READLINE_INCLUDES@
LIBS = @LIBS@ @CURSES_LIBS@ @READLINE_LIBS@
CC = @CC@ 
prefix = @prefix@
datadir = @datadir@
mandir = @mandir@
NAME = libgadu
VERSION = 0.90
RM = @RM@
MAKE = @MAKE@
AR = @AR@
install = @INSTALL@
RANLIB = @RANLIB@

CFLAGS = @DFLAGS@ @CFLAGS@ $(INCLUDES) -fPIC
OBJS = common.o libgadu.o search.o pubdir.o http.o dcc.o

SHARED = libgadu.so.0.9.0
STATIC = libgadu.a

all:	static @shared@

distclean:	clean
	$(RM) -f *~ Makefile

clean:
	$(RM) -f *.o libgadu.so* libgadu.a

shared:	$(SHARED)

$(SHARED):	$(OBJS)
	$(CC) -g -shared -Wl,-soname,libgadu.so -o $(SHARED) $(OBJS) -lc

static: $(STATIC)

libgadu.a:	$(OBJS)
	$(AR) r $(STATIC) $(OBJS) 
	$(RANLIB) $(STATIC)

