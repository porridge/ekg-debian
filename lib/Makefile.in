# $Id$

CC = @CC@ 
CFLAGS = @CFLAGS_LIBGADU@ -I.. -fPIC
LIBS = @LIBS_LIBGADU@

MAKE = @MAKE@
AR = @AR@
INSTALL = @INSTALL@
RANLIB = @RANLIB@

OBJS = common.o libgadu.o search.o pubdir.o http.o dcc.o userlist.o events.o

SHARED = libgadu.so.0.9.0
STATIC = libgadu.a

all:	static @shared@

distclean:	clean
	rm -f *~ Makefile

clean:
	rm -f *.o libgadu.so* libgadu.a

shared:	$(SHARED)

$(SHARED):	$(OBJS)
	$(CC) -g -shared -Wl,-soname,libgadu.so -o $(SHARED) $(OBJS) $(LIBS) -lc

static: $(STATIC)

libgadu.a:	$(OBJS)
	$(AR) r $(STATIC) $(OBJS) 
	$(RANLIB) $(STATIC)

